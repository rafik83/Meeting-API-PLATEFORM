
; Inspired by https://github.com/api-platform/api-platform/blob/main/api/docker/php/conf.d/api-platform.prod.ini
; and by https://github.com/proximum/vimeet/blob/master/docker/apache/etc/php/000_php.ini

apc.enable_cli = 1
session.auto_start = Off
short_open_tag = Off

; Keep date.imezone set to UTC. More info here : https://blog.elao.com/fr/dev/date-php-timezone-utc-pourquoi-est-ce-important/

date.timezone = UTC

;;;;;;;;;;;;;;;;
; File Uploads ;
;;;;;;;;;;;;;;;;

; Whether to allow HTTP file uploads.
; http://php.net/file-uploads
file_uploads = On

; Temporary directory for HTTP uploaded files (will use system default if not
; specified).
; http://php.net/upload-tmp-dir
;upload_tmp_dir =

; Maximum allowed size for uploaded files.
; http://php.net/upload-max-filesize
upload_max_filesize = 100M
post_max_size = 100M

; Maximum number of files that can be uploaded via a single request
max_file_uploads = 20


;;;;;;;;;;;;;;;;;;;;;;
; Cache Configuration ;
;;;;;;;;;;;;;;;;;;;;;;
;https://symfony.com/doc/current/performance.html

opcache.interned_strings_buffer = 16
opcache.max_accelerated_files = 20000
opcache.memory_consumption = 256
opcache.validate_timestamps = 0
realpath_cache_size = 4096K
realpath_cache_ttl = 600
; opcache.preload_user=www-data
; opcache.preload=/srv/api/config/preload.php


;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
; Error handling and logging ;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

error_reporting = E_ALL & ~E_DEPRECATED & ~E_STRICT
display_errors = Off
display_startup_errors = Off
log_errors_max_len = 1024
log_errors = On
error_log = /var/log/apache2/error.log
ignore_repeated_errors = Off
ignore_repeated_source = Off
report_memleaks = On
track_errors = Off
html_errors = On
